export const state = () => ({
    time: 0,
    startTime: 0,
    episodes: [{
            "id": "intro",
            "title": "Peut-on espérer un meilleur avenir ?",
            "alias": "intro",
            "videoPlayerId": "1716835391828991",
            "isYoutube": false,
            "isFacebook": true,
            "announce": {
                "ops": [{
                    "insert": "Peut-on espérer un meilleur avenir ?"
                }]
            },
            "description": {
                "ops": []
            },
            "publicationDate": "2020-10-17T19:30:00",
        },
        {
            "id": "sortir-de-l-endettement",
            "title": "Sortir de l'endettement",
            "alias": "sortir-de-l-endettement",
            "author": "Jephté Simon",
            "videoPlayerId": "778106889653504",
            "isYoutube": false,
            "isFacebook": true,
            "soundcloud": "",
            "announce": {
                "ops": [
                    { "insert": "Webinaire sur la gestion de vos finances." }
                ]
            },
            "description": {
                "ops": []
            },
            "content": {
                "ops": []
            },
            "publicationDate": "2020-10-11T17:00:00",
            "date": "Dimanche, le 11 octobre",
            "actions": [],
            "conversations": [],
            "state": "closed"
        },
        {
            "id": "les-saintes-ecritures",
            "title": "Les Saintes Écritures",
            "alias": "les-saintes-ecritures",
            "author": "Pr. Sem Jean",
            "videoPlayerId": "",
            "isYoutube": false,
            "isFacebook": true,
            "soundcloud": "",
            "announce": {
                "ops": [
                    { "insert": "Les Saintes Écritures – l’Ancien et le Nouveau Testament – sont la Parole de Dieu écrite, donnée par l’inspiration divine." }
                ]
            },
            "description": {
                "ops": [{
                        "title": "Sentez-vous un vide dans votre vie ?",
                        "insert": "Le centre des saintes écritures c’est Dieu qui depuis longtemps a établi un plan pour que la race humaine vive éternellement. Ceux qui sentent le vide dans leur vie, les Saintes écritures leurs donnent un but dans leur vie et ce but c’est vivre pour Dieu.",
                    },
                    {
                        "title": "Êtes-vous préoccupé par votre santé ?",
                        "insert": "Les saintes écritures contiennent plusieurs conseils pour avoir une meilleur santé. Dieu nous a montré depuis le début quoi manger pour être en bonne santé. Il montre des boissons à proscrire et montre comment notre corps est le temple de Dieu qui doit être pur sans aucune impureté."
                    },
                    {
                        "title": "Êtes-vous préoccupé par l'environnement ?",
                        "insert": "La Bible commence en nous présentant le créateur le maître de toute chose. Si on fait sa volonté on respecte en même temps l’environnement qu’il a créé."
                    },
                    {
                        "title": "Voulez-vous être bien informé ?",
                        "insert": "La Bible est un livre d’information plus que tout autre livre car elle contient des informations nécessaires pour nous permettre d’avoir la vie éternelle. Elle a été écrit par plusieurs auteurs qui ont en commun le fait qu’ils étaient tous inspiré par le même Esprit qui connaît tout."
                    },
                    {
                        "title": "Cherchez-vous l'assurance pour le futur ?",
                        "insert": "La Bible contient des informations sur l’avenir. Avec elle, l’avenir est dévoilé aucune raison d’avoir peur."
                    }
                ]
            },
            "content": {
                "ops": []
            },
            "publicationDate": "2020-10-18T19:00:00",
            "date": "Dimanche, le 18 octobre",
            "actions": [],
            "conversations": [],
            "state": "closed"
        },
        {
            "id": "le-fils",
            "title": "Un don gratuit, pour un avenir meilleur !",
            "alias": "le-fils",
            "author": "Sympson Gracia",
            "videoPlayerId": "CBmYkpDkwg0",
            "isYoutube": false,
            "isFacebook": true,
            "soundcloud": "",
            "announce": {
                "ops": [{
                    "insert": "Dieu, le Fils éternel, s’est incarné en Jésus-Christ"
                }]
            },
            "description": {
                "ops": [{
                        "title": "Sentez-vous un vide dans votre vie ?",
                        "insert": "Découragé ; Désespéré; Déçu; Etc. Ce sont ces problèmes que  l’humanité vit, elle ne sait quoi faire pour palier à ces problèmes qui génèrent un vide insoutenable et qui pousse les gens à chercher des solutions dans plusieurs domaine, mais malheureusement il ne semble pas en trouver, puisque la seule et unique solution se trouve en christ le fils de Dieu, par son sacrifice expiatoire. Il suffit de lui donner sa vie en l’acceptant comme son sauveur personnel."
                    },
                    {
                        "title": "Cherchez-vous l'assurance pour le futur ?",
                        "insert": "Par son sacrifice sur la croix du calvaire qui donne à l’humanité l’unique assurance aujourd’hui. Il est la solution au problème du péché, Jésus Christ, le fils de Dieu, est mort à sa place sur la croix afin de lui assurer un futur meilleur. Notez bien: Avant de monter au ciel après résurrection Jésus Christ a fait cette promesse à l’humanité dans Jean 14:3 Et, lorsque je m'en serai allé, et que je vous aurai préparé une place, je reviendrai, et je vous prendrai avec moi, afin que là où je suis vous y soyez aussi."
                    }
                ]
            },
            "content": {
                "ops": []
            },
            "publicationDate": "2020-10-19T19:00:00",
            "date": "Lundi, le 19 octobre",
            "actions": [],
            "conversations": [],
            "state": "closed"
        },
        {
            "id": "la-creation",
            "title": "Sonder notre avenir par les mystères de la création",
            "alias": "la-creation",
            "author": "Ted Gracia",
            "videoPlayerId": "CBmYkpDkwg0",
            "isYoutube": false,
            "isFacebook": true,
            "soundcloud": "",
            "announce": {
                "ops": [{
                    "insert": "Dieu, dans les Écritures, a révélé le récit authentique et historique de son activité créatrice."
                }]
            },
            "description": {
                "ops": [{
                        "title": "Êtes-vous préoccupé par l'environnement ?",
                        "insert": "Cette présentation a pour prétention de faire la lumière sur les origines de la vie, beaucoup de personnes sont préoccupées par l’avenir de la terre et beaucoups de mouvement écologiques sont misent sur pieds dans le but de venir en aide à la nature cependant, très peux connaissent son origine (la terre), plusieurs théorie sont énoncées pour expliquer le phénomène de la vie, mais rare sont ceux qui se tournent vers le veritable createur. Cette prédication va rallumer les projecteurs sur le Dieu créateur , et ainsi les gens sauront vers qui diriger le regard, nous avons trois attentes."
                    },
                    {
                        "insert": "1) faire découvrir le Dieu créateur et les origines de la vie."
                    }, {
                        "insert": "2) Faire prendre conscience de notre responsabilité envers la création entant que gestionnaire de celle - ci."
                    },
                    {
                        "insert": "3) Amener les gens vers la vrai adoration,car de la compréhension de la création découle tout un pan de notre théologie."
                    },
                    {
                        "title": "Voulez-vous être bien informé ?",
                        "insert": "La quête de la connaissance est belle et bien présente, toutefois les sources d'informations ne sont pas toujours les plus fiables que l’on peut trouver, cependant si il y a un sujet que tout le monde est passionné à son propos , c'est l'original  de la vie sur terre et l’origine même de l’univers dans son ensemble . A travers la présentation sur la création , nous serons en mesure de répondre à cette question fondamentale : “d'où venons nous ? ”"
                    }
                ]
            },
            "content": {
                "ops": []
            },
            "publicationDate": "2020-10-20T19:00:00",
            "date": "Mardi, le 20 octobre",
            "actions": [],
            "conversations": [],
            "state": "closed"
        },
        {
            "id": "vie-mort-et-resurrection-du-christ",
            "title": "Qui se soucie de ta vie ?",
            "alias": "vie-mort-et-resurrection-du-christ",
            "author": "Frédéric Ntawiniga",
            "videoPlayerId": "CBmYkpDkwg0",
            "isYoutube": false,
            "isFacebook": true,
            "soundcloud": "",
            "announce": {
                "ops": [{
                    "insert": "La vie du Christ, parfaitement soumise à la volonté divine, ses souffrances, sa mort et sa résurrection sont les moyens nécessaires auxquels Dieu a pourvu pour libérer l’homme du péché, en sorte que tous ceux qui, par la foi, acceptent ce rachat, obtiennent la vie éternelle."
                }]
            },
            "description": {
                "ops": [{
                        "title": "Sentez-vous un vide dans votre vie ?",
                        "insert": "La personne principale de cette doctrine et sermon c’est Jésus. Quand on a Jésus on boit sur une source qui ne tarit jamais comme il le l’a dit à la femme Samaritaine. Qui a Jésus a tout."
                    },
                    {
                        "title": "Cherchez-vous l'assurance pour le futur ?",
                        "insert": "La plupart de gens ne pas d’assurance pour le futur parce qu’ils ont peur de la mort. Ce sermon va leur présenter Jésus qui a dit lui même qu’il est la résurrection et la vie et va redonner la vie à ceux qui croient en lui. Avec lui on ne doit pas avoir peur."
                    }
                ]
            },
            "content": {
                "ops": []
            },
            "publicationDate": "2020-10-21T19:00:00",
            "date": "Mercredi, le 21 octobre",
            "actions": [],
            "conversations": [],
            "state": "closed"
        },
        {
            "id": "l-experience-du-salut",
            "title": "Poste ouvert à tous - sécurité permanente",
            "alias": "l-experience-du-salut",
            "author": "Barbara Cantave",
            "videoPlayerId": "CBmYkpDkwg0",
            "isYoutube": false,
            "isFacebook": true,
            "soundcloud": "",
            "announce": {
                "ops": [
                    { "insert": "Le Christ n’a pas connu le péché. Pourtant, dans son amour infini, Dieu l’a fait péché pour nous, afin que nous devenions en lui justice de Dieu." }
                ]
            },
            "description": {
                "ops": [{
                    "title": "Sentez-vous un vide dans votre vie ?",
                    "insert": "Le sermon sur l'Expérience du Salut va donner au public cible une autre alternative. C'est à dire qu'il vont apprendre que leur inquiétude et leur insécurités sont normales mais que Jésus est la pour leur donner une nouvelle espérance. Les horoscopes, les clairvoyants, le yoga ne leur apportera pas cette sécurité, cette assurance qu'il recherche, ce vide qu'il veut combler. Il n'y a aucune permanence qu'en Jésus et lorsqu'on vient à lui on ne mène plus la bataille seule et Il est avec nous à chaque étape. L'important c'est de s'abandonner à lui."
                }]
            },
            "content": {
                "ops": []
            },
            "publicationDate": "2020-10-22T19:00:00",
            "date": "Jeudi, le 22 octobre",
            "actions": [],
            "conversations": [],
            "state": "closed"
        },
        {
            "id": "croitre-en-christ",
            "title": "Le méristème qui fait croître",
            "alias": "croitre-en-christ",
            "author": "Nahomy Noélizaire",
            "videoPlayerId": "CBmYkpDkwg0",
            "isYoutube": false,
            "isFacebook": true,
            "soundcloud": "",
            "announce": {
                "ops": [{
                    "insert": "Par sa mort sur la croix, Jésus a triomphé des forces du mal."
                }]
            },
            "description": {
                "ops": []
            },
            "content": {
                "ops": []
            },
            "publicationDate": "2020-10-23T19:00:00",
            "date": "Vendreddi, le 23 octobre",
            "actions": [],
            "conversations": [],
            "state": "closed"
        },
        {
            "id": "la-loi-de-dieu",
            "title": "Obéir à la loi de Dieu",
            "alias": "la-loi-de-dieu",
            "author": "Wadner Cadet",
            "videoPlayerId": "CBmYkpDkwg0",
            "isYoutube": false,
            "isFacebook": true,
            "soundcloud": "",
            "announce": {
                "ops": [{
                    "insert": "Les grands principes de la loi de Dieu sont contenus dans les dix commandements et manifestés dans la vie du Christ."
                }]
            },
            "description": {
                "ops": [{
                        "title": "Sentez-vous un vide dans votre vie ?",
                        "insert": "Le sermon sur la loi de Dieu va convaincre le public cible de la nécessité d’avoir une relation aimable et honnête avec Dieu et  son prochain. Une telle relation  va lui permettre de combler son vide et de vivre heureux sans avoir besoin de recourir à l’alcool, aux jeux, aux films et autres."
                    },
                    {
                        "title": "Êtes-vous préoccupé par votre santé ?",
                        "insert": "Les dix commandements trouvés dans Exode 20 constituent un résumé de tous les bons principes  dont l’homme a besoin pour vivre en harmonie avec lui-même et être en santé. Nous y trouvons l’amour de Dieu, l’amour du prochain, le repos physique et mental. Ce sont des choses essentielles au bien-être et à la santé. L’application de la loi de Dieu protège des comportements susceptibles d’engendrer la violence et de troubler notre santé en général."
                    }
                ]
            },
            "content": {
                "ops": []
            },
            "publicationDate": "2020-10-24T19:00:00",
            "date": "Samedi, le 24 octobre",
            "actions": [],
            "conversations": [],
            "state": "closed"
        },
        {
            "id": "le-sabbat",
            "title": "Le Sabbat",
            "alias": "le-sabbat",
            "author": "Pr. Sem Jean",
            "videoPlayerId": "CBmYkpDkwg0",
            "isYoutube": false,
            "isFacebook": true,
            "soundcloud": "",
            "announce": {
                "ops": [{
                    "insert": "Au terme des six jours de la création, le Créateur bienveillant s’est reposé le septième jour et a institué le sabbat comme mémorial de la création pour toute l’humanité."
                }]
            },
            "description": {
                "ops": [{
                    "title": "Êtes-vous préoccupé par votre santé ?",
                    "insert": "La tension, la pression ou l’anxiété, le stress professionnel chronique qui caractérisent souvent le travail peuvent déclencher de sérieux problèmes de santé physiques comme la gastrite, la tension musculaire, maux de tête, un manque d’énergie, de l’insomnie, etc. Et, dans les conditions extrêmes, cela peut détruire la santé et même la vie. "
                }, {
                    "insert": "Voilà pourquoi la quatrième loi de Dieu demande de faire un stop, d’observer un jour de repos hebdomadaire, le sabbat. Le sabbat permet une déconnexion totale d’avec le stress de la semaine, la tension du travail pour faire monter des prières vers Dieu et écouter sa voix sans se presser. Il permet de se réjouir avec ceux qu’on aime."
                }, {
                    "insert": "Donc le sabbat d’une part répondra à un besoin de repos qui sera très efficace pour une bonne santé physique et mentale. Par ailleurs, le sabbat aidera à la croissance spirituelle. Le chrétien peut développer une attitude de contemplation, d’adoration, de louange et de prière envers Dieu durant les 24 heures saintes. Encore un besoin très efficace pour la santé spirituelle."
                }]
            },
            "content": {
                "ops": []
            },
            "publicationDate": "2020-10-25T19:00:00",
            "date": "Dimanche, le 25 octobre",
            "actions": [],
            "conversations": [],
            "state": "closed"
        },
        {
            "id": "le-bapteme",
            "title": "Le Baptême",
            "alias": "le-bapteme",
            "author": "Paule Esther Jn Philippe",
            "videoPlayerId": "CBmYkpDkwg0",
            "isYoutube": false,
            "isFacebook": true,
            "soundcloud": "",
            "announce": {
                "ops": [{
                    "insert": "Par le baptême, nous confessons notre foi en la mort et la résurrection de Jésus-Christ, et nous témoignons de notre mort au péché et de notre décision de mener une vie nouvelle."
                }]
            },
            "description": {
                "ops": [{
                        "title": "Sentez-vous un vide dans votre vie ?",
                        "insert": "Le baptême est un symbole d’engagement. Par ce sermon le public sera convaincu du fait qu’il existe une alternative à leur mode de vie et qu’il leur est vital de laisser tomber leur dépendance et de prendre la décision de faire de Dieu le centre de leur existence. En acceptant de se laisser guider par l’esprit de Dieu, ils trouveront leur mission sur terre et un but à leur existence. L’avenir leur sera plus clair sachant que Jésus les soutient tout le long du chemin."
                    },
                    {
                        "title": "Cherchez-vous l'assurance pour le futur ?",
                        "insert": "Le baptême est un symbole d’engagement. Par ce sermon le public sera convaincu du fait qu’il existe une alternative à leur mode de vie et qu’il leur est vital de laisser tomber leur dépendance et de prendre la décision de faire de Dieu le centre de leur existence. En acceptant de se laisser guider par l’esprit de Dieu, ils trouveront leur mission sur terre et un but à leur existence. L’avenir leur sera plus clair sachant que Jésus les soutient tout le long du chemin."
                    }
                ]
            },
            "content": {
                "ops": []
            },
            "publicationDate": "2020-10-26T19:00:00",
            "date": "Lundi, le 26 octobre",
            "actions": [],
            "conversations": [],
            "state": "closed"
        },
        {
            "id": "la-gestion-chretienne-de-la-vie",
            "title": "Offre d'emploi",
            "alias": "la-gestion-chretienne-de-la-vie",
            "author": "Danielle Noélizaire",
            "videoPlayerId": "CBmYkpDkwg0",
            "isYoutube": false,
            "isFacebook": true,
            "soundcloud": "",
            "announce": {
                "ops": [{
                    "insert": "Nous sommes les économes de Dieu : le Seigneur nous a en effet confié du temps, des occasions, des aptitudes, des possessions, les biens de la terre et les ressources du sol, et nous sommes responsables devant lui de leur bon usage."
                }]
            },
            "description": {
                "ops": [{
                    "title": "Sentez-vous un vide dans votre vie ?",
                    "insert": "Le sermon va aider la population cible à comprendre comment mieux gérer sa vie ainsi que tout ce qu'elle possède. Le sermon lui fera aussi prendre conscience que son corps ne lui appartient et qu'il ne peut pas en faire n'importe quel usage. Ce sermon lui permettra de se questionner au sujet de la croyance populaire disant qu'on a une seule vit à vivre et qu'il faut la vivre à fond sans rien regretter."
                }]
            },
            "content": {
                "ops": []
            },
            "publicationDate": "2020-10-27T19:00:00",
            "date": "Mardi, le 27 octobre",
            "actions": [],
            "conversations": [],
            "state": "closed"
        },
        {
            "id": "la-nouvelle-terre",
            "title": "La Nouvelle Terre",
            "alias": "la-nouvelle-terre",
            "author": "Adeline Emile",
            "videoPlayerId": "CBmYkpDkwg0",
            "isYoutube": false,
            "isFacebook": true,
            "soundcloud": "",
            "announce": {
                "ops": [{
                    "insert": ""
                }]
            },
            "description": {
                "ops": [{
                        "title": "Voulez-vous être bien informé ?",
                        "insert": "La nouvelle de la nouvelle terre répond aux besoins de ceux qui ne sont pas informés à ce sujet de jeter un coup d'oeil sur l'offre disponible pour une nouvelle vie, de savoir qu'il y a de l'espoir  et que cette vie difficile n'est pas la seule option."
                    },
                    {
                        "title": "Cherchez-vous l'assurance pour le futur ?",
                        "insert": "Elle est aussi importante pour ceux qui sont préoccupés, stresser ,décourager et qui s'inquiète de leur avenir de savoir que Dieu promet une nouvelle vie sur une terre nouvelle, où la vie sera totalement différente de ce qu'on connaît aujourd'hui.  Où il n'y aura plus de maladies, de pleurs, morts, de tristesses...on récoltera nos champs, personne pour nous troubler et récolter à notre place."
                    }
                ]
            },
            "content": {
                "ops": []
            },
            "publicationDate": "2020-10-28T19:00:00",
            "date": "Mercredi, le 28 octobre",
            "actions": [],
            "conversations": [],
            "state": "closed"
        },
    ],
    activeIndex: 0,
    episode: {
        "id": "intro",
        "title": "Peut-on espérer un meilleur avenir?",
        "alias": "intro",
        "videoPlayerId": "1716835391828991",
        "isYoutube": false,
        "isFacebook": true,
        "announce": {
            "ops": [{
                "insert": "Peut-on espérer un meilleur avenir?"
            }]
        },
        "description": {
            "ops": []
        },
        "publicationDate": "2020-10-19T19:30:00",
    },
})

export const getters = {
    episodes: state => {
        return state.episodes
    }
}

export const mutations = {
    SET_TIME(state, time) {
        state.time = time;
    },
    SET_START_TIME(state, startTime) {
        state.startTime = startTime;
    },
    SET_EPISODE(state, episode) {
        state.episode = episode;
        state.episode.distance = episode && episode.publicationDate ? new Date(episode.publicationDate).getTime() - (new Date).getTime() : "";
        var index = state.episodes.findIndex(function(x) {
            return x.id === episode.id;
        });
        state.activeIndex = index;
    },
    SET_ACTIVE_INDEX(state, index) {
        state.activeIndex = index;
    },
    SET_DISTANCE_STATE(state, data) {
        state.episodes[data.index].distance = data.distance;
        state.episodes[data.index].state = data.state;
    },
}

export const actions = {
    UNLOCK_EPISODE(state, episode) {
        var myState = state.state;
        var myCommit = state.commit;
        var index = myState.episodes.findIndex(function(x) {
            return x.id === episode.id;
        });

        myState.episodes.map(function(episode, index) {
            var publicationDate = new Date(episode.publicationDate);
            var midNight = new Date(episode.publicationDate);
            midNight.setHours(0, 0, 0, 0);
            var diff = publicationDate.getTime() - midNight.getTime();

            var dist = episode && episode.publicationDate ? new Date(episode.publicationDate).getTime() - (new Date).getTime() : "";
            var st = dist <= 0 ? "opened" : dist <= diff ? "today" : "closed";

            myCommit("SET_DISTANCE_STATE", {
                distance: dist,
                state: st,
                index: index
            });

            return episode;
        });

        if (index !== -1) {
            var myEpisode = myState.episodes[index];
            myCommit("SET_EPISODE", myEpisode);
        }

    },
}